---
title: "Tasks"
icon: list-check
---

For more detailed usage information, please refer to our cookbook: [Task Generation Cookbook](../cookbooks/multi_agent_society/task_generation.ipynb)

<Card title="What is a Task in CAMEL?" icon="clipboard-list">
  A <b>task</b> in CAMEL is a structured assignment that can be given to one or
  more agents. Tasks are higher-level than prompts and managed by modules like
  the Planner and Workforce.
  <b>Key ideas:</b>
  <br />- Tasks can be <b>collaborative</b>, requiring multiple agents.
  <br />- Tasks can be <b>decomposed</b> into subtasks or evolved over time.
  <br />
  - Tasks are now pure data structures, with execution logic handled by the Workforce
  system.
  <br />
</Card>

## Task Attributes

| Attribute          | Type                           | Description                                                                  |
| ------------------ | ------------------------------ | ---------------------------------------------------------------------------- |
| content            | string                         | A clear and concise description of the task at hand.                         |
| id                 | string                         | A unique string identifier for the task.                                     |
| state              | TaskState                      | The task states: "OPEN", "RUNNING", "DONE", "FAILED", "DELETED".             |
| type               | Optional[str]                  | The type of a task. (default: None)                                          |
| parent             | Optional[Task]                 | The parent task. (default: None)                                             |
| subtasks           | List[Task]                     | Subtasks related to the original Task. (default: [])                         |
| result             | Optional[str]                  | The Task result. (default: "")                                               |
| failure_count      | int                            | The failure count for the task. (default: 0)                                 |
| assigned_worker_id | Optional[str]                  | The ID of the worker assigned to this task. (default: None)                  |
| dependencies       | List[Task]                     | The dependencies for the task. (default: [])                                 |
| additional_info    | Optional[Dict[str, Any]]       | Additional information for the task. (default: None)                         |
| image_list         | Optional[List[Image.Image]]    | Optional list of PIL Image objects associated with the task. (default: None) |
| image_detail       | Literal["auto", "low", "high"] | Detail level of the images associated with the task. (default: "auto")       |
| video_bytes        | Optional[bytes]                | Optional bytes of a video associated with the task. (default: None)          |
| video_detail       | Literal["auto", "low", "high"] | Detail level of the videos associated with the task. (default: "auto")       |

## Task Methods

| Method           | Type         | Description                                             |
| ---------------- | ------------ | ------------------------------------------------------- |
| from_message     | classmethod  | Load Task from Message.                                 |
| to_message       | staticmethod | Convert Task to Message. (TODO: Implement when needed)  |
| reset            | instance     | Reset Task to initial state.                            |
| update_result    | instance     | Set task result and mark the task as DONE.              |
| set_id           | instance     | Set task id.                                            |
| set_state        | instance     | Recursively set the state of the task and its subtasks. |
| add_subtask      | instance     | Add a child task.                                       |
| remove_subtask   | instance     | Delete a subtask by id.                                 |
| get_running_task | instance     | Get a RUNNING task.                                     |
| to_string        | instance     | Convert task to a string.                               |
| get_result       | instance     | Get task result as a string.                            |
| get_depth        | instance     | Get task depth; root depth is 1.                        |

<Card title="Getting Started: Creating Tasks" icon="bolt">
Defining a task is simple: specify its content and a unique ID.

<CodeGroup>
```python task_example.py
from camel.tasks import Task

task = Task(
content="Weng earns $12 an hour for babysitting. Yesterday, she just did 51 minutes of babysitting. How much did she earn?",
id="0",
)

````
</CodeGroup>
</Card>

<Card title="Hierarchical Tasks Example" icon="sitemap">
You can build nested, hierarchical tasks using subtasks. Here's an example:

<CodeGroup>
```python tasks_hierarchical.py
# Creating the root task
root_task = Task(content="Prepare a meal", id="0")

# Creating subtasks for the root task
sub_task_1 = Task(content="Shop for ingredients", id="1")
sub_task_2 = Task(content="Cook the meal", id="2")
sub_task_3 = Task(content="Set the table", id="3")

# Creating subtasks under "Cook the meal"
sub_task_2_1 = Task(content="Chop vegetables", id="2.1")
sub_task_2_2 = Task(content="Cook rice", id="2.2")

# Adding subtasks to their respective parent tasks
root_task.add_subtask(sub_task_1)
root_task.add_subtask(sub_task_2)
root_task.add_subtask(sub_task_3)

sub_task_2.add_subtask(sub_task_2_1)
sub_task_2.add_subtask(sub_task_2_2)

# Printing the hierarchical task structure
print(root_task.to_string())
````

```markdown output
> > >

    Task 0: Prepare a meal
    Task 1: Shop for ingredients
    Task 2: Cook the meal
        Task 2.1: Chop vegetables
        Task 2.2: Cook rice
    Task 3: Set the table
```

</CodeGroup>
</Card>

## Task Validation

CAMEL provides built-in task validation to ensure content quality and detect potential failures:

<CodeGroup>
```python task_validation.py
from camel.tasks import validate_task_content, TaskValidationMode

# Validate task content before processing

is_valid = validate_task_content(
content="Complete the analysis report",
task_id="task_001",
min_length=10,
mode=TaskValidationMode.INPUT
)

# Validate task results after completion

is_result_valid = validate_task_content(
content="Analysis completed successfully with detailed findings",
task_id="task_001",
mode=TaskValidationMode.OUTPUT,
check_failure_patterns=True
)

````
</CodeGroup>

## Task State Management

Tasks can be in various states throughout their lifecycle:

<CodeGroup>
```python task_states.py
from camel.tasks import Task, TaskState

task = Task(content="Example task", id="1")

# Check current state
print(f"Current state: {task.state}")

# Change state
task.set_state(TaskState.RUNNING)
print(f"New state: {task.state}")

# Get all possible states
print(f"Available states: {TaskState.states()}")
````

```markdown output
> > > Current state: FAILED
> > > New state: RUNNING
> > > Available states: ['OPEN', 'RUNNING', 'DONE', 'FAILED', 'DELETED']
```

</CodeGroup>

## Working with Task Dependencies

Tasks can have dependencies that need to be resolved before execution:

<CodeGroup>
```python task_dependencies.py
from camel.tasks import Task

# Create tasks

task_a = Task(content="Task A", id="A")
task_b = Task(content="Task B", id="B")
task_c = Task(content="Task C", id="C")

# Set up dependencies: C depends on A and B

task_c.dependencies = [task_a, task_b]

# Check if dependencies are met

print(f"Task C dependencies: {[dep.id for dep in task_c.dependencies]}")

````

</CodeGroup>

## Task Result Management

Tasks can store and retrieve results:

<CodeGroup>
```python task_results.py
from camel.tasks import Task, TaskState

task = Task(content="Calculate 2 + 2", id="calc")

# Update task result

task.update_result("2 + 2 = 4")

# Check result and state

print(f"Result: {task.result}")
print(f"State: {task.state}")

# Get formatted result string

result_string = task.get_result()
print(result_string)

````

```markdown output
> > > Result: 2 + 2 = 4
> > > State: DONE
> > > Task calc result: 2 + 2 = 4
```

</CodeGroup>

## Task Failure Handling

Tasks include failure tracking and validation:

<CodeGroup>
```python task_failure.py
from camel.tasks import Task, is_task_result_insufficient

task = Task(content="Example task", id="failed_task")
task.failure_count = 2

# Check if result is insufficient

is_insufficient = is_task_result_insufficient(task)
print(f"Is result insufficient: {is_insufficient}")

# Reset task to try again

task.reset()
print(f"After reset - State: {task.state}, Result: {task.result}")

````

```markdown output
> > > Is result insufficient: True
> > > After reset - State: FAILED, Result:
````

</CodeGroup>

<Card title="Important Note" icon="info">
  <b>Task Execution Logic Moved to Workforce</b>
  <br />
  The Task class is now a pure data structure. Task execution, decomposition,
  and composition logic has been moved to the Workforce system to avoid
  duplication and maintain clear separation of concerns. For advanced task
  management features, please refer to the Workforce documentation.
</Card>

<Card title="Conclusion" icon="trophy">
  CAMEL offers a clean, structured approach to task representation. With support
  for hierarchical organization, state management, and validation, tasks provide
  a solid foundation for building complex workflows. The separation of data
  structure (Task) from execution logic (Workforce) ensures maintainable and
  scalable task orchestration for AI systems.
</Card>
```
