<a id="camel.toolkits.async_browser_toolkit"></a>

<a id="camel.toolkits.async_browser_toolkit.extract_function_name"></a>

#### extract\_function\_name

```python
def extract_function_name(s: str) -> str
```

Extract the pure function name from a string (without parameters or
parentheses)

**Arguments**:

- `s` _str_ - Input string, e.g., `1.`**`click_id(14)`**, `scroll_up()`,
  `'visit_page(url)'`, etc.
  

**Returns**:

- `str` - Pure function name (e.g., `click_id`, `scroll_up`, `visit_page`)

<a id="camel.toolkits.async_browser_toolkit.dom_rectangle_from_dict"></a>

#### dom\_rectangle\_from\_dict

```python
def dom_rectangle_from_dict(rect: Dict[str, Any]) -> DOMRectangle
```

Create a DOMRectangle object from a dictionary.

<a id="camel.toolkits.async_browser_toolkit.interactive_region_from_dict"></a>

#### interactive\_region\_from\_dict

```python
def interactive_region_from_dict(region: Dict[str, Any]) -> InteractiveRegion
```

Create an :class:`InteractiveRegion` object from a dictionary.

<a id="camel.toolkits.async_browser_toolkit.visual_viewport_from_dict"></a>

#### visual\_viewport\_from\_dict

```python
def visual_viewport_from_dict(viewport: Dict[str, Any]) -> VisualViewport
```

Create a :class:`VisualViewport` object from a dictionary.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser"></a>

## AsyncBaseBrowser Objects

```python
class AsyncBaseBrowser()
```

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.__init__"></a>

#### \_\_init\_\_

```python
def __init__(headless=True,
             cache_dir: Optional[str] = None,
             channel: Literal["chrome", "msedge", "chromium"] = "chromium",
             cookie_json_path: Optional[str] = None)
```

Initialize the asynchronous browser core.

**Arguments**:

- `headless` _bool_ - Whether to run the browser in headless mode.
- `cache_dir` _Union[str, None]_ - The directory to store cache files.
- `channel` _Literal["chrome", "msedge", "chromium"]_ - The browser
  channel to use. Must be one of "chrome", "msedge", or
  "chromium".
- `cookie_json_path` _Optional[str]_ - Path to a JSON file containing
  authentication cookies and browser storage state. If provided
  and the file exists, the browser will load this state to
  maintain authenticated sessions without requiring manual login.
  

**Returns**:

  None

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_init"></a>

#### async\_init

```python
async def async_init() -> None
```

Asynchronously initialize the browser.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.init"></a>

#### init

```python
def init() -> Coroutine[Any, Any, None]
```

Initialize the browser asynchronously.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.clean_cache"></a>

#### clean\_cache

```python
def clean_cache() -> None
```

Delete the cache directory and its contents.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_wait_for_load"></a>

#### async\_wait\_for\_load

```python
async def async_wait_for_load(timeout: int = 20) -> None
```

Asynchronously Wait for a certain amount of time for the page to load.

**Arguments**:

- `timeout` _int_ - Timeout in seconds.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.wait_for_load"></a>

#### wait\_for\_load

```python
def wait_for_load(timeout: int = 20) -> Coroutine[Any, Any, None]
```

Wait for a certain amount of time for the page to load.

**Arguments**:

- `timeout` _int_ - Timeout in seconds.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_click_blank_area"></a>

#### async\_click\_blank\_area

```python
async def async_click_blank_area() -> None
```

Asynchronously click a blank area of the page to unfocus
the current element.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.click_blank_area"></a>

#### click\_blank\_area

```python
def click_blank_area() -> Coroutine[Any, Any, None]
```

Click a blank area of the page to unfocus the current element.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_visit_page"></a>

#### async\_visit\_page

```python
async def async_visit_page(url: str) -> None
```

Visit a page with the given URL.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.visit_page"></a>

#### visit\_page

```python
@retry_on_error()
def visit_page(url: str) -> Coroutine[Any, Any, None]
```

Visit a page with the given URL.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.ask_question_about_video"></a>

#### ask\_question\_about\_video

```python
def ask_question_about_video(question: str) -> str
```

Ask a question about the video on the current page,
such as YouTube video.

**Arguments**:

- `question` _str_ - The question to ask.
  

**Returns**:

- `str` - The answer to the question.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_get_screenshot"></a>

#### async\_get\_screenshot

```python
@retry_on_error()
async def async_get_screenshot(
        save_image: bool = False) -> Tuple[Image.Image, Union[str, None]]
```

Asynchronously get a screenshot of the current page.

**Arguments**:

- `save_image` _bool_ - Whether to save the image to the cache
  directory.
  

**Returns**:

  Tuple[Image.Image, str]: A tuple containing the screenshot
  image and the path to the image file if saved, otherwise
  :obj:`None`.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.get_screenshot"></a>

#### get\_screenshot

```python
@retry_on_error()
def get_screenshot(
    save_image: bool = False
) -> Coroutine[Any, Any, Tuple[Image.Image, Union[str, None]]]
```

Get a screenshot of the current page.

**Arguments**:

- `save_image` _bool_ - Whether to save the image to the cache
  directory.
  

**Returns**:

  Tuple[Image.Image, str]: A tuple containing the screenshot
  image and the path to the image file if saved, otherwise
  :obj:`None`.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_capture_full_page_screenshots"></a>

#### async\_capture\_full\_page\_screenshots

```python
async def async_capture_full_page_screenshots(
        scroll_ratio: float = 0.8) -> List[str]
```

Asynchronously capture full page screenshots by scrolling the
page with a buffer zone.

**Arguments**:

- `scroll_ratio` _float_ - The ratio of viewport height to scroll each
  step (default: 0.8).
  

**Returns**:

- `List[str]` - A list of paths to the captured screenshots.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.capture_full_page_screenshots"></a>

#### capture\_full\_page\_screenshots

```python
def capture_full_page_screenshots(
        scroll_ratio: float = 0.8) -> Coroutine[Any, Any, List[str]]
```

Capture full page screenshots by scrolling the page with
a buffer zone.

**Arguments**:

- `scroll_ratio` _float_ - The ratio of viewport height to scroll each
  step (default: 0.8).
  

**Returns**:

- `List[str]` - A list of paths to the captured screenshots.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_get_visual_viewport"></a>

#### async\_get\_visual\_viewport

```python
async def async_get_visual_viewport() -> VisualViewport
```

Asynchronously get the visual viewport of the current page.

**Returns**:

- `VisualViewport` - The visual viewport of the current page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.get_visual_viewport"></a>

#### get\_visual\_viewport

```python
def get_visual_viewport() -> Coroutine[Any, Any, VisualViewport]
```

Get the visual viewport of the current page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_get_interactive_elements"></a>

#### async\_get\_interactive\_elements

```python
async def async_get_interactive_elements() -> Dict[str, InteractiveRegion]
```

Asynchronously get the interactive elements of the current page.

**Returns**:

  Dict[str, InteractiveRegion]: A dictionary containing the
  interactive elements of the current page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.get_interactive_elements"></a>

#### get\_interactive\_elements

```python
def get_interactive_elements(
) -> Coroutine[Any, Any, Dict[str, InteractiveRegion]]
```

Get the interactive elements of the current page.

**Returns**:

  Dict[str, InteractiveRegion]: A dictionary of interactive elements.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_get_som_screenshot"></a>

#### async\_get\_som\_screenshot

```python
async def async_get_som_screenshot(
        save_image: bool = False) -> Tuple[Image.Image, Union[str, None]]
```

Asynchronously get a screenshot of the current viewport
with interactive elements marked.

**Arguments**:

- `save_image` _bool_ - Whether to save the image to the cache
  directory.
  

**Returns**:

  Tuple[Image.Image, str]: A tuple containing the screenshot
  image and the path to the image file.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.get_som_screenshot"></a>

#### get\_som\_screenshot

```python
def get_som_screenshot(
    save_image: bool = False
) -> Coroutine[Any, Any, Tuple[Image.Image, Union[str, None]]]
```

Get a screenshot of the current viewport with interactive elements
marked.

**Arguments**:

- `save_image` _bool_ - Whether to save the image to the cache
  directory.
  

**Returns**:

  Tuple[Image.Image, str]: A tuple containing the screenshot image
  and the path to the image file.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_scroll_up"></a>

#### async\_scroll\_up

```python
async def async_scroll_up() -> None
```

Asynchronously scroll up the page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.scroll_up"></a>

#### scroll\_up

```python
def scroll_up() -> Coroutine[Any, Any, None]
```

Scroll up the page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_scroll_down"></a>

#### async\_scroll\_down

```python
async def async_scroll_down() -> None
```

Asynchronously scroll down the page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.scroll_down"></a>

#### scroll\_down

```python
def scroll_down() -> Coroutine[Any, Any, None]
```

Scroll down the page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.get_url"></a>

#### get\_url

```python
def get_url() -> str
```

Get the URL of the current page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_click_id"></a>

#### async\_click\_id

```python
async def async_click_id(identifier: Union[str, int]) -> None
```

Asynchronously click an element with the given ID.

**Arguments**:

- `identifier` _Union[str, int]_ - The ID of the element to click.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.click_id"></a>

#### click\_id

```python
def click_id(identifier: Union[str, int]) -> Coroutine[Any, Any, None]
```

Click an element with the given identifier.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_extract_url_content"></a>

#### async\_extract\_url\_content

```python
async def async_extract_url_content() -> str
```

Asynchronously extract the content of the current page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.extract_url_content"></a>

#### extract\_url\_content

```python
def extract_url_content() -> Coroutine[Any, Any, str]
```

Extract the content of the current page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_download_file_id"></a>

#### async\_download\_file\_id

```python
async def async_download_file_id(identifier: Union[str, int]) -> str
```

Asynchronously download a file with the given selector.

**Arguments**:

- `identifier` _Union[str, int]_ - The identifier of the file
  to download.
  

**Returns**:

- `str` - The path to the downloaded file.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.download_file_id"></a>

#### download\_file\_id

```python
def download_file_id(identifier: Union[str, int]) -> Coroutine[Any, Any, str]
```

Download a file with the given identifier.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_fill_input_id"></a>

#### async\_fill\_input\_id

```python
async def async_fill_input_id(identifier: Union[str, int], text: str) -> str
```

Asynchronously fill an input field with the given text, and then
press Enter.

**Arguments**:

- `identifier` _Union[str, int]_ - The identifier of the input field.
- `text` _str_ - The text to fill.
  

**Returns**:

- `str` - The result of the action.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.fill_input_id"></a>

#### fill\_input\_id

```python
def fill_input_id(identifier: Union[str, int],
                  text: str) -> Coroutine[Any, Any, str]
```

Fill an input field with the given text, and then press Enter.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_scroll_to_bottom"></a>

#### async\_scroll\_to\_bottom

```python
async def async_scroll_to_bottom() -> str
```

Asynchronously scroll to the bottom of the page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.scroll_to_bottom"></a>

#### scroll\_to\_bottom

```python
def scroll_to_bottom() -> Coroutine[Any, Any, str]
```

Scroll to the bottom of the page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_scroll_to_top"></a>

#### async\_scroll\_to\_top

```python
async def async_scroll_to_top() -> str
```

Asynchronously scroll to the top of the page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.scroll_to_top"></a>

#### scroll\_to\_top

```python
def scroll_to_top() -> Coroutine[Any, Any, str]
```

Scroll to the top of the page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_hover_id"></a>

#### async\_hover\_id

```python
async def async_hover_id(identifier: Union[str, int]) -> str
```

Asynchronously hover over an element with the given identifier.

**Arguments**:

- `identifier` _Union[str, int]_ - The identifier of the element
  to hover over.
  

**Returns**:

- `str` - The result of the action.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.hover_id"></a>

#### hover\_id

```python
def hover_id(identifier: Union[str, int]) -> Coroutine[Any, Any, str]
```

Hover over an element with the given identifier.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_find_text_on_page"></a>

#### async\_find\_text\_on\_page

```python
async def async_find_text_on_page(search_text: str) -> str
```

Asynchronously find the next given text on the page.It is
equivalent to pressing Ctrl + F and searching for the text.

**Arguments**:

- `search_text` _str_ - The text to search for.
  

**Returns**:

- `str` - The result of the action.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.find_text_on_page"></a>

#### find\_text\_on\_page

```python
def find_text_on_page(search_text: str) -> Coroutine[Any, Any, str]
```

Find the next given text on the page, and scroll the page to
the targeted text. It is equivalent to pressing Ctrl + F and
searching for the text.

**Arguments**:

- `search_text` _str_ - The text to search for.
  

**Returns**:

- `str` - The result of the action.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_back"></a>

#### async\_back

```python
async def async_back() -> None
```

Asynchronously navigate back to the previous page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.back"></a>

#### back

```python
def back() -> Coroutine[Any, Any, None]
```

Navigate back to the previous page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_close"></a>

#### async\_close

```python
async def async_close() -> None
```

Asynchronously close the browser.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.close"></a>

#### close

```python
def close() -> Coroutine[Any, Any, None]
```

Close the browser.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_show_interactive_elements"></a>

#### async\_show\_interactive\_elements

```python
async def async_show_interactive_elements() -> None
```

Asynchronously show simple interactive elements on
the current page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.show_interactive_elements"></a>

#### show\_interactive\_elements

```python
def show_interactive_elements() -> Coroutine[Any, Any, None]
```

Show simple interactive elements on the current page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_get_webpage_content"></a>

#### async\_get\_webpage\_content

```python
async def async_get_webpage_content() -> str
```

Asynchronously extract the content of the current page and convert
it to markdown.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.get_webpage_content"></a>

#### get\_webpage\_content

```python
@retry_on_error()
def get_webpage_content() -> Coroutine[Any, Any, str]
```

Extract the content of the current page.

<a id="camel.toolkits.async_browser_toolkit.AsyncBaseBrowser.async_ensure_browser_installed"></a>

#### async\_ensure\_browser\_installed

```python
async def async_ensure_browser_installed() -> None
```

Ensure the browser is installed.

<a id="camel.toolkits.async_browser_toolkit.AsyncBrowserToolkit"></a>

## AsyncBrowserToolkit Objects

```python
class AsyncBrowserToolkit(BaseToolkit)
```

An asynchronous class for browsing the web and interacting
with web pages.

This class provides methods for browsing the web and interacting with web
pages.

<a id="camel.toolkits.async_browser_toolkit.AsyncBrowserToolkit.__init__"></a>

#### \_\_init\_\_

```python
def __init__(headless: bool = False,
             cache_dir: Optional[str] = None,
             channel: Literal["chrome", "msedge", "chromium"] = "chromium",
             history_window: int = 5,
             web_agent_model: Optional[BaseModelBackend] = None,
             planning_agent_model: Optional[BaseModelBackend] = None,
             output_language: str = "en",
             cookie_json_path: Optional[str] = None)
```

Initialize the BrowserToolkit instance.

**Arguments**:

- `headless` _bool_ - Whether to run the browser in headless mode.
- `cache_dir` _Union[str, None]_ - The directory to store cache files.
- `channel` _Literal["chrome", "msedge", "chromium"]_ - The browser
  channel to use. Must be one of "chrome", "msedge", or
  "chromium".
- `history_window` _int_ - The window size for storing the history of
  actions.
- `web_agent_model` _Optional[BaseModelBackend]_ - The model backend
  for the web agent.
- `planning_agent_model` _Optional[BaseModelBackend]_ - The model
  backend for the planning agent.
- `output_language` _str_ - The language to use for output.
- `(default` - :obj:`"en`")
- `cookie_json_path` _Optional[str]_ - Path to a JSON file containing
  authentication cookies and browser storage state. If provided
  and the file exists, the browser will load this state to
  maintain authenticated sessions without requiring manual
  login.
- `(default` - :obj:`None`)

<a id="camel.toolkits.async_browser_toolkit.AsyncBrowserToolkit.async_observe"></a>

#### async\_observe

```python
async def async_observe(
        task_prompt: str,
        detailed_plan: Optional[str] = None) -> Tuple[str, str, str]
```

Let agent observe the current environment, and get the next
action.

<a id="camel.toolkits.async_browser_toolkit.AsyncBrowserToolkit.async_act"></a>

#### async\_act

```python
async def async_act(action_code: str) -> Tuple[bool, str]
```

Let agent act based on the given action code.

**Arguments**:

- `action_code` _str_ - The action code to act.
  

**Returns**:

  Tuple[bool, str]: A tuple containing a boolean indicating whether
  the action was successful, and the information to be returned.

<a id="camel.toolkits.async_browser_toolkit.AsyncBrowserToolkit.browse_url"></a>

#### browse\_url

```python
@dependencies_required("playwright")
async def browse_url(task_prompt: str,
                     start_url: str,
                     round_limit: int = 12) -> str
```

A powerful toolkit which can simulate the browser interaction to
solve the task which needs multi-step actions.

**Arguments**:

- `task_prompt` _str_ - The task prompt to solve.
- `start_url` _str_ - The start URL to visit.
- `round_limit` _int_ - The round limit to solve the task.
- `(default` - :obj:`12`).
  

**Returns**:

- `str` - The simulation result to the task.

