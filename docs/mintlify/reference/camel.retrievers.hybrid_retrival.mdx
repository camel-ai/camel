<a id="camel.retrievers.hybrid_retrival"></a>

<a id="camel.retrievers.hybrid_retrival.HybridRetriever"></a>

## HybridRetriever Objects

```python
class HybridRetriever(BaseRetriever)
```

<a id="camel.retrievers.hybrid_retrival.HybridRetriever.__init__"></a>

#### \_\_init\_\_

```python
def __init__(embedding_model: Optional[BaseEmbedding] = None,
             vector_storage: Optional[BaseVectorStorage] = None) -> None
```

Initializes the HybridRetriever with optional embedding model and
vector storage.

**Arguments**:

- `embedding_model` _Optional[BaseEmbedding]_ - An optional embedding
  model used by the VectorRetriever. Defaults to None.
- `vector_storage` _Optional[BaseVectorStorage]_ - An optional vector
  storage used by the VectorRetriever. Defaults to None.

<a id="camel.retrievers.hybrid_retrival.HybridRetriever.process"></a>

#### process

```python
def process(content_input_path: str) -> None
```

Processes the content input path for both vector and BM25
retrievers.

**Arguments**:

- `content_input_path` _str_ - File path or URL of the content to be
  processed.
  

**Raises**:

- `ValueError` - If the content_input_path is empty.

<a id="camel.retrievers.hybrid_retrival.HybridRetriever.query"></a>

#### query

```python
def query(
    query: str,
    top_k: int = 20,
    vector_weight: float = 0.8,
    bm25_weight: float = 0.2,
    rank_smoothing_factor: int = 60,
    vector_retriever_top_k: int = 50,
    vector_retriever_similarity_threshold: float = 0.5,
    bm25_retriever_top_k: int = 50,
    return_detailed_info: bool = False
) -> Union[
        dict[str, Sequence[Collection[str]]],
        dict[str, Sequence[Union[str, float]]],
]
```

Executes a hybrid retrieval query using both vector and BM25
retrievers.

**Arguments**:

- `query` _str_ - The search query.
- `top_k` _int_ - Number of top results to return (default 20).
- `vector_weight` _float_ - Weight for vector retriever results in RRF.
- `bm25_weight` _float_ - Weight for BM25 retriever results in RRF.
- `rank_smoothing_factor` _int_ - RRF hyperparameter for rank smoothing.
- `vector_retriever_top_k` _int_ - Top results from vector retriever.
- `vector_retriever_similarity_threshold` _float_ - Similarity
  threshold for vector retriever.
- `bm25_retriever_top_k` _int_ - Top results from BM25 retriever.
- `return_detailed_info` _bool_ - Return detailed info if True.
  

**Returns**:

  Union[
  dict[str, Sequence[Collection[str]]],
  dict[str, Sequence[Union[str, float]]]
- `]` - By default, returns only the text information. If
  `return_detailed_info` is `True`, return detailed information
  including rrf scores.

