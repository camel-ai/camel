<a id="camel.storages.vectordb_storages.tidb"></a>

<a id="camel.storages.vectordb_storages.tidb.TiDBStorage"></a>

## TiDBStorage Objects

```python
class TiDBStorage(BaseVectorStorage)
```

An implementation of the `BaseVectorStorage` for interacting with TiDB.

The detailed information about TiDB is available at:
`TiDB Vector Search <https://ai.pingcap.com/>`_

**Arguments**:

- `vector_dim` _int_ - The dimension of storing vectors.
- `url_and_api_key` _Optional[Union[Tuple[str, str], str]]_ - A tuple
  containing the database url and API key for connecting to a TiDB
  cluster. The URL should be in the format:
  "mysql+pymysql://<username>:<password>@<host>:<port>/<db_name>".
  TiDB will not use the API Key, but retains the definition for
  interface compatible.
- `collection_name` _Optional[str]_ - Name of the collection.
  The collection name will be used as the table name in TiDB. If not
  provided, set it to the current time with iso format.
- `**kwargs` _Any_ - Additional keyword arguments for initializing
  TiDB connection.
  

**Raises**:

- `ImportError` - If `pytidb` package is not installed.

<a id="camel.storages.vectordb_storages.tidb.TiDBStorage.add"></a>

#### add

```python
def add(records: List[VectorRecord], **kwargs) -> None
```

Adds a list of vectors to the specified table.

**Arguments**:

- `records` _List[VectorRecord]_ - List of vectors to be added.
- `**kwargs` _Any_ - Additional keyword arguments pass to insert.
  

**Raises**:

- `RuntimeError` - If there was an error in the addition process.

<a id="camel.storages.vectordb_storages.tidb.TiDBStorage.delete"></a>

#### delete

```python
def delete(ids: List[str], **kwargs: Any) -> None
```

Deletes a list of vectors identified by their IDs from the
storage.

**Arguments**:

- `ids` _List[str]_ - List of unique identifiers for the vectors to be
  deleted.
- `**kwargs` _Any_ - Additional keyword arguments passed to delete.
  

**Raises**:

- `RuntimeError` - If there is an error during the deletion process.

<a id="camel.storages.vectordb_storages.tidb.TiDBStorage.status"></a>

#### status

```python
def status() -> VectorDBStatus
```

Retrieves the current status of the TiDB table.

**Returns**:

- `VectorDBStatus` - An object containing information about the
  table's status.

<a id="camel.storages.vectordb_storages.tidb.TiDBStorage.query"></a>

#### query

```python
def query(query: VectorDBQuery, **kwargs: Any) -> List[VectorDBQueryResult]
```

Searches for similar vectors in the storage based on the provided
query.

**Arguments**:

- `query` _VectorDBQuery_ - The query object containing the search
  vector and the number of top similar vectors to retrieve.
- `**kwargs` _Any_ - Additional keyword arguments passed to search.
  

**Returns**:

- `List[VectorDBQueryResult]` - A list of vectors retrieved from the
  storage based on similarity to the query vector.

<a id="camel.storages.vectordb_storages.tidb.TiDBStorage.clear"></a>

#### clear

```python
def clear() -> None
```

Removes all vectors from the TiDB table. This method
deletes the existing table and then recreates it with the same
schema to effectively remove all stored vectors.

<a id="camel.storages.vectordb_storages.tidb.TiDBStorage.load"></a>

#### load

```python
def load() -> None
```

Load the collection hosted on cloud service.

<a id="camel.storages.vectordb_storages.tidb.TiDBStorage.client"></a>

#### client

```python
@property
def client() -> "TiDBClient"
```

Provides direct access to the TiDB client.

**Returns**:

- `Any` - The TiDB client instance.

