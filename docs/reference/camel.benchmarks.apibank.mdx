<a id="camel.benchmarks.apibank"></a>

# camel.benchmarks.apibank

<a id="camel.benchmarks.apibank.process_messages"></a>

#### process\_messages

```python
def process_messages(chat_history: List[Dict[str, Any]],
                     prompt: str) -> List[Dict[str, str]]
```

Processes chat history into a structured format for further use.

**Arguments**:

  chat_history (List[Dict[str, Any]):
  A list of dictionaries representing the chat history.
- `prompt` _str_ - A prompt to be set as the system message.
  

**Returns**:

  List[Dict[str, str]]: A list of dictionaries representing
  the processed messages, where each dictionary has:
  - 'role': The role of the message ('system', 'user', or 'assistant').
  - 'content': The content of the message, including formatted
  API responses when applicable.

<a id="camel.benchmarks.apibank.APIBankBenchmark"></a>

## APIBankBenchmark Objects

```python
class APIBankBenchmark(BaseBenchmark)
```

API-Bank Benchmark adapted from `API-Bank:
A Comprehensive Benchmark for Tool-Augmented LLMs`
<https://github.com/AlibabaResearch/DAMO-ConvAI/tree/main/api-bank>.

**Arguments**:

- `save_to` _str_ - The file to save the results.
- `processes` _int, optional_ - The number of processes to use.
- `(default` - :obj:`1`)

<a id="camel.benchmarks.apibank.APIBankBenchmark.__init__"></a>

#### \_\_init\_\_

```python
def __init__(save_to: str, processes: int = 1)
```

Initialize the APIBank benchmark.

**Arguments**:

- `save_to` _str_ - The file to save the results.
- `processes` _int, optional_ - The number of processes to use for
  parallel processing. (default: :obj:`1`)

<a id="camel.benchmarks.apibank.APIBankBenchmark.download"></a>

#### download

```python
def download()
```

Download APIBank dataset and code from Github.

<a id="camel.benchmarks.apibank.APIBankBenchmark.load"></a>

#### load

```python
def load(level: str, force_download: bool = False)
```

Load the APIBank Benchmark dataset.

**Arguments**:

- `level` _str_ - Level to run benchmark on.
- `force_download` _bool, optional_ - Whether to
  force download the data.

<a id="camel.benchmarks.apibank.APIBankBenchmark.run"></a>

#### run

```python
def run(agent: ChatAgent,
        level: Literal["level-1", "level-2"],
        api_test_enabled=True,
        randomize: bool = False,
        subset: Optional[int] = None) -> Dict[str, Any]
```

Run the benchmark.

**Arguments**:

- `agent` _ChatAgent_ - The agent to run the
  benchmark.
  level (Literal['level-1', 'level-2']):
  The level to run the benchmark on.
- `randomize` _bool, optional_ - Whether to
  randomize the data.
- `api_test_enabled` _bool_ - Whether to test
  API calling (`True`) or response (`False`)
- `(default` - :obj:`False`)
  subset (Optional[int], optional):
  The subset of data to run.
- `(default` - :obj:`None`)
  

**Returns**:

  Dict[str, Any]: The results of the benchmark.

<a id="camel.benchmarks.apibank.agent_call"></a>

#### agent\_call

```python
def agent_call(messages: List[Dict], agent: ChatAgent)
```

Add messages to agent memory and get response.

<a id="camel.benchmarks.apibank.calculate_rouge_l_score"></a>

#### calculate\_rouge\_l\_score

```python
def calculate_rouge_l_score(reference, hypothesis)
```

Calculate rouge l score between hypothesis and reference.

<a id="camel.benchmarks.apibank.get_api_call"></a>

#### get\_api\_call

```python
def get_api_call(model_output)
```

Parse api call from model output.

<a id="camel.benchmarks.apibank.APIBankSample"></a>

## APIBankSample Objects

```python
class APIBankSample()
```

APIBank sample used to load the datasets.

<a id="camel.benchmarks.apibank.Evaluator"></a>

## Evaluator Objects

```python
class Evaluator()
```

Evaluator for APIBank benchmark.

