<a id="camel.memories.base"></a>

# camel.memories.base

<a id="camel.memories.base.MemoryBlock"></a>

## MemoryBlock Objects

```python
class MemoryBlock(ABC)
```

An abstract class serves as the fundamental component within the agent
memory system. This class is equipped with "write" and "clear" functions.
However, it intentionally does not define a retrieval interface, as the
structure of the data to be retrieved may vary in different types of
memory blocks.

<a id="camel.memories.base.MemoryBlock.write_records"></a>

#### write\_records

```python
@abstractmethod
def write_records(records: List[MemoryRecord]) -> None
```

Writes records to the memory, appending them to existing ones.

**Arguments**:

- `records` _List[MemoryRecord]_ - Records to be added to the memory.

<a id="camel.memories.base.MemoryBlock.write_record"></a>

#### write\_record

```python
def write_record(record: MemoryRecord) -> None
```

Writes a record to the memory, appending it to existing ones.

**Arguments**:

- `record` _MemoryRecord_ - Record to be added to the memory.

<a id="camel.memories.base.MemoryBlock.clear"></a>

#### clear

```python
@abstractmethod
def clear() -> None
```

Clears all messages from the memory.

<a id="camel.memories.base.BaseContextCreator"></a>

## BaseContextCreator Objects

```python
class BaseContextCreator(ABC)
```

An abstract base class defining the interface for context creation
strategies.

This class provides a foundational structure for different strategies to
generate conversational context from a list of context records. The
primary goal is to create a context that is aligned with a specified token
count limit, allowing subclasses to define their specific approach.

Subclasses should implement the :obj:`token_counter`,:obj: `token_limit`,
and :obj:`create_context` methods to provide specific context creation
logic.

**Attributes**:

- `token_counter` _BaseTokenCounter_ - A token counter instance responsible
  for counting tokens in a message.
- `token_limit` _int_ - The maximum number of tokens allowed in the
  generated context.

<a id="camel.memories.base.BaseContextCreator.create_context"></a>

#### create\_context

```python
@abstractmethod
def create_context(
        records: List[ContextRecord]) -> Tuple[List[OpenAIMessage], int]
```

An abstract method to create conversational context from the chat
history.

Constructs the context from provided records. The specifics of how this
is done and how the token count is managed should be provided by
subclasses implementing this method. The output messages order
should keep same as the input order.

**Arguments**:

- `records` _List[ContextRecord]_ - A list of context records from
  which to generate the context.
  

**Returns**:

  Tuple[List[OpenAIMessage], int]: A tuple containing the constructed
  context in OpenAIMessage format and the total token count.

<a id="camel.memories.base.AgentMemory"></a>

## AgentMemory Objects

```python
class AgentMemory(MemoryBlock, ABC)
```

Represents a specialized form of `MemoryBlock`, uniquely designed for
direct integration with an agent. Two key abstract functions, "retrieve"
and "get_context_creator", are used for generating model context based on
the memory records stored within the AgentMemory.

<a id="camel.memories.base.AgentMemory.retrieve"></a>

#### retrieve

```python
@abstractmethod
def retrieve() -> List[ContextRecord]
```

Get a record list from the memory for creating model context.

**Returns**:

- `List[ContextRecord]` - A record list for creating model context.

<a id="camel.memories.base.AgentMemory.get_context_creator"></a>

#### get\_context\_creator

```python
@abstractmethod
def get_context_creator() -> BaseContextCreator
```

Gets context creator.

**Returns**:

- `BaseContextCreator` - A model context creator.

<a id="camel.memories.base.AgentMemory.get_context"></a>

#### get\_context

```python
def get_context() -> Tuple[List[OpenAIMessage], int]
```

Gets chat context with a proper size for the agent from the memory.

**Returns**:

  (List[OpenAIMessage], int): A tuple containing the constructed
  context in OpenAIMessage format and the total token count.

<a id="camel.memories.base.AgentMemory.__repr__"></a>

#### \_\_repr\_\_

```python
def __repr__() -> str
```

Returns a string representation of the AgentMemory.

**Returns**:

- `str` - A string in the format 'ClassName(agent_id=<id>)'
  if agent_id exists, otherwise just 'ClassName()'.

