<a id="camel.datasets.few_shot_generator"></a>

# camel.datasets.few\_shot\_generator

<a id="camel.datasets.few_shot_generator.FewShotGenerator"></a>

## FewShotGenerator Objects

```python
class FewShotGenerator(BaseGenerator)
```

A generator for creating synthetic datapoints using few-shot learning.

This class leverages a seed dataset, an agent, and a verifier to generate
new synthetic datapoints on demand through few-shot prompting.

<a id="camel.datasets.few_shot_generator.FewShotGenerator.__init__"></a>

#### \_\_init\_\_

```python
def __init__(seed_dataset: StaticDataset,
             verifier: BaseVerifier,
             model: BaseModelBackend,
             seed: int = 42,
             **kwargs)
```

Initialize the few-shot generator.

**Arguments**:

- `seed_dataset` _StaticDataset_ - Validated static dataset to
  use for examples.
- `verifier` _BaseVerifier_ - Verifier to validate generated content.
- `model` _BaseModelBackend_ - The underlying LLM that the generating
  agent will be initiated with.
- `seed` _int_ - Random seed for reproducibility. (default: :obj:`42`)
- `**kwargs` - Additional generator parameters.

<a id="camel.datasets.few_shot_generator.FewShotGenerator.generate_new"></a>

#### generate\_new

```python
async def generate_new(n: int,
                       max_retries: int = 10,
                       num_examples: int = 3,
                       **kwargs) -> None
```

Generates and validates `n` new datapoints through
few-shot prompting, with a retry limit.

Steps:
1. Samples examples from the seed dataset.
2. Constructs a prompt using the selected examples.
3. Uses an agent to generate a new datapoint,
consisting of a question and code to solve the question.
4. Executes code using a verifier to get pseudo ground truth.
5. Stores valid datapoints in memory.

**Arguments**:

- `n` _int_ - Number of valid datapoints to generate.
- `max_retries` _int_ - Maximum number of retries before stopping.
- `(default` - :obj:`10`)
- `num_examples` _int_ - Number of examples to sample from the
  seed dataset for few shot prompting.
- `(default` - :obj:`3`)
- `**kwargs` - Additional generation parameters.
  

**Returns**:

- `List[DataPoint]` - A list of newly generated valid datapoints.
  

**Raises**:

- `TypeError` - If the agent's output is not a dictionary (or does not
  match the expected format).
- `KeyError` - If required keys are missing from the response.
- `AttributeError` - If the verifier response lacks attributes.
- `ValidationError` - If a datapoint fails schema validation.
- `RuntimeError` - If retries are exhausted before `n` valid datapoints
  are generated.
  

**Notes**:

  - Retries on validation failures until `n` valid datapoints exist
  or `max_retries` is reached, whichever comes first.
  - If retries are exhausted before reaching `n`, a `RuntimeError`
  is raised.
  - Metadata includes a timestamp for tracking datapoint creation.

