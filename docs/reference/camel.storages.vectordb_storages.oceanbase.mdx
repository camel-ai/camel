---
title: "camel.storages.vectordb_storages.oceanbase"
description: "Documentation for the camel.storages.vectordb_storages.oceanbase module"
---

<a id="camel.storages.vectordb_storages.oceanbase"></a>

# camel.storages.vectordb\_storages.oceanbase

<a id="camel.storages.vectordb_storages.oceanbase.OceanBaseStorage"></a>

## OceanBaseStorage Objects

```python
class OceanBaseStorage(BaseVectorStorage)
```

An implementation of the `BaseVectorStorage` for interacting with
OceanBase Vector Database.

**Arguments**:

- `vector_dim` _int_ - The dimension of storing vectors.
- `table_name` _str_ - Name for the table in OceanBase.
- `uri` _str_ - Connection URI for OceanBase (host:port).
- `(default` - :obj:`"127.0.0.1:2881"`)
- `user` _str_ - Username for connecting to OceanBase.
- `(default` - :obj:`"root@test"`)
- `password` _str_ - Password for the user. (default: :obj:`""`)
- `db_name` _str_ - Database name in OceanBase.
- `(default` - :obj:`"test"`)
- `distance` _Literal["l2", "cosine"], optional_ - The distance metric for
  vector comparison. Options: "l2", "cosine". (default: :obj:`"l2"`)
- `delete_table_on_del` _bool, optional_ - Flag to determine if the
  table should be deleted upon object destruction.
- `(default` - :obj:`False`)
- `**kwargs` _Any_ - Additional keyword arguments for initializing
  `ObVecClient`.
  

**Raises**:

- `ImportError` - If `pyobvector` package is not installed.

<a id="camel.storages.vectordb_storages.oceanbase.OceanBaseStorage.__del__"></a>

#### \_\_del\_\_

```python
def __del__()
```

Deletes the table if :obj:`delete_table_on_del` is set to
:obj:`True`.

<a id="camel.storages.vectordb_storages.oceanbase.OceanBaseStorage.add"></a>

#### add

```python
def add(records: List[VectorRecord],
        batch_size: int = 100,
        **kwargs: Any) -> None
```

Saves a list of vector records to the storage.

**Arguments**:

- `records` _List[VectorRecord]_ - List of vector records to be saved.
- `batch_size` _int_ - Number of records to insert each batch.
  Larger batches are more efficient but use more memory.
- `(default` - :obj:`100`)
- `**kwargs` _Any_ - Additional keyword arguments.
  

**Raises**:

- `RuntimeError` - If there is an error during the saving process.
- `ValueError` - If any vector dimension doesn't match vector_dim.

<a id="camel.storages.vectordb_storages.oceanbase.OceanBaseStorage.delete"></a>

#### delete

```python
def delete(ids: List[str], **kwargs: Any) -> None
```

Deletes a list of vectors identified by their IDs from the storage.

**Arguments**:

- `ids` _List[str]_ - List of unique identifiers for the vectors to
  be deleted.
- `**kwargs` _Any_ - Additional keyword arguments.
  

**Raises**:

- `RuntimeError` - If there is an error during the deletion process.

<a id="camel.storages.vectordb_storages.oceanbase.OceanBaseStorage.status"></a>

#### status

```python
def status() -> VectorDBStatus
```

Returns status of the vector database.

**Returns**:

- `VectorDBStatus` - The vector database status.

<a id="camel.storages.vectordb_storages.oceanbase.OceanBaseStorage.query"></a>

#### query

```python
def query(query: VectorDBQuery, **kwargs: Any) -> List[VectorDBQueryResult]
```

Searches for similar vectors in the storage based on the
provided query.

**Arguments**:

- `query` _VectorDBQuery_ - The query object containing the search
  vector and the number of top similar vectors to retrieve.
- `**kwargs` _Any_ - Additional keyword arguments.
  

**Returns**:

- `List[VectorDBQueryResult]` - A list of vectors retrieved from the
  storage based on similarity to the query vector.
  

**Raises**:

- `RuntimeError` - If there is an error during the query process.
- `ValueError` - If the query vector dimension does not match the
  storage dimension.

<a id="camel.storages.vectordb_storages.oceanbase.OceanBaseStorage.clear"></a>

#### clear

```python
def clear() -> None
```

Remove all vectors from the storage.

<a id="camel.storages.vectordb_storages.oceanbase.OceanBaseStorage.load"></a>

#### load

```python
def load() -> None
```

Load the collection hosted on cloud service.

<a id="camel.storages.vectordb_storages.oceanbase.OceanBaseStorage.client"></a>

#### client

```python
@property
def client() -> "ObVecClient"
```

Provides access to underlying OceanBase vector database client.

